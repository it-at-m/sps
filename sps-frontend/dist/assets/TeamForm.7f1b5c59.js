import{d as b,u as x,r as o,o as h,c as k,L as R,n as S,W as d,k as f}from"./index.5c2e6855.js";import{P as E}from"./PersonApiService.e3829719.js";import{u as P,_ as C,a as F}from"./rules.61a0ee6c.js";import{_ as i,a as l}from"./VRow.6a903a37.js";const L=b({__name:"TeamForm",props:{value:null,isSavingAnimation:{type:Boolean}},emits:["input","submit"],setup(r,{emit:t}){const a=r,e=x(),n=P(),m=o([]),u=o(!0),c=o(!1),_=o(null);h(()=>{p()});function p(){E.getAllPaged(0,1e3).then(s=>{m.value=s.data}).catch(s=>e.showMessage(s)).finally(()=>{u.value=!1})}function v(){var s;if((s=_.value)==null||s.validate(),!c.value){e.showMessage({level:R.WARNING,message:"Formular nicht korrekt ausgef\xFCllt.",show:!0});return}t("submit")}const g=k({get:()=>a.value,set:s=>t("input",s)});return{__sfc:!0,props:a,emits:t,snackbarStore:e,rules:n,people:m,isLoadingPeople:u,formValid:c,form:_,loadPeople:p,save:v,team:g}}});var A=function(){var t=this,a=t._self._c,e=t._self._setupProxy;return a("div",[a(C,{ref:"form",on:{submit:e.save},model:{value:e.formValid,callback:function(n){e.formValid=n},expression:"formValid"}},[a(i,[a(l,{staticClass:"col"},[a(d,{attrs:{label:"Teambezeichnung*",rules:[e.rules.RULE_REQUIRED],dense:"",outlined:""},model:{value:e.team.name,callback:function(n){t.$set(e.team,"name",n)},expression:"team.name"}})],1)],1),a(i,[a(l,{staticClass:"col"},[a(d,{attrs:{label:"Teamk\xFCrzel*",rules:[e.rules.RULE_REQUIRED],dense:"",outlined:""},model:{value:e.team.identifierString,callback:function(n){t.$set(e.team,"identifierString",n)},expression:"team.identifierString"}})],1),a(l,{attrs:{cols:"6"}},[a(F,{attrs:{label:"Teamleiter*",dense:"",outlined:"",disabled:e.isLoadingPeople,items:e.people,"item-text":"fullname","item-value":"id",loading:e.isLoadingPeople,rules:[e.rules.RULE_REQUIRED]},model:{value:e.team.teamleaderId,callback:function(n){t.$set(e.team,"teamleaderId",n)},expression:"team.teamleaderId"}})],1)],1),a(i,[a(l,[a("p",[t._v(" Alle mit Sternchen* gekennzeichneten Felder sind Pflichtfelder. ")])]),a(l,{staticClass:"text-right"},[a(f,{staticClass:"ml-auto",attrs:{text:"",exact:"",to:{name:"team.index"}}},[t._v(" Abbrechen ")]),a(f,{attrs:{color:"primary",loading:t.isSavingAnimation},on:{click:e.save}},[t._v(" Speichern ")])],1)],1)],1)],1)},I=[],T=S(L,A,I,!1,null,"90591a94",null,null);const $=T.exports;export{$ as T};
