import{d as i,U as m,x as l,u,r as d,o as p,n as c,_ as f,i as v,h as g,k as T,l as b}from"./index.5c2e6855.js";import{T as E}from"./TeamApiService.45f87cc8.js";import{P as h}from"./PersonListItem.0a998b19.js";import{_ as k}from"./VSimpleTable.2cf2cf19.js";import{_ as y}from"./VListItemAction.f187d94c.js";import{_ as S}from"./VTooltip.3363e3a0.js";import"./EntityApiService.bdec22c4.js";import"./DeleteDialog.bb2477fd.js";import"./VDialog.54b8c02e.js";import"./PersonApiService.e3829719.js";const x=i({__name:"TeamDetail",setup(o){const e=m(),t=l(),n=u(),r=d(null);p(()=>{a()});function a(){const s=e.params.id;E.get(s,["teamleader","members"]).then(_=>{r.value=_}).catch(_=>{n.showMessage(_),t.back()})}return{__sfc:!0,route:e,router:t,snackbarStore:n,team:r,load:a,PersonListItem:h}}});var I=function(){var r;var e=this,t=e._self._c,n=e._self._setupProxy;return t(f,[t(v,{attrs:{flat:""}},[n.team===null?t(g,{attrs:{indeterminate:""}}):e._e(),n.team!==null?[t("h1",[e._v("Teamdaten: "+e._s(n.team.identifierString))]),t(k,{scopedSlots:e._u([{key:"default",fn:function(){return[t("tbody",[t("tr",[t("td",[e._v("Volle Bezeichnung")]),t("td",[e._v(e._s(n.team.name))])]),t("tr",[t("td",[e._v("Kurzbezeichnung")]),t("td",[e._v(e._s(n.team.identifierString))])]),t("tr",[t("td",[e._v("Teamleiter")]),n.team.teamleader?t("td",[t("router-link",{attrs:{to:{name:"person.detail",params:{id:n.team.teamleader.id||""}}}},[e._v(" "+e._s(n.team.teamleader.firstname)+" "+e._s(n.team.teamleader.lastname)+" ")])],1):t("td",[e._v("(kein Teamleiter vorhanden)")])])])]},proxy:!0}],null,!1,3851373859)}),t("h2",[e._v("Teammitglieder")]),e._l((r=n.team.members)==null?void 0:r.people,function(a,s){return[n.team.members!=null?t(n.PersonListItem,{key:`member-${a.id}`,attrs:{person:a}}):e._e(),t(y,{key:`member-divider-${s}`,staticClass:"divider"})]}),t(S,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(T,e._g({directives:[{name:"security",rawName:"v-security",value:"BEISPIELPROJEKT_BACKEND_WRITE_TEAM",expression:"'BEISPIELPROJEKT_BACKEND_WRITE_TEAM'"}],attrs:{id:"edit-person",bottom:"",right:"",fixed:"",fab:"",dark:"",color:"accent",to:{name:"team.edit",params:{id:n.team.id}}}},a),[t(b,[e._v("mdi-pencil")])],1)]}}],null,!1,3087908894)},[t("span",[e._v(e._s(n.team.identifierString)+" bearbeiten")])])]:e._e()],2)],1)},P=[],R=c(x,I,P,!1,null,"3d0151cd",null,null);const w=R.exports;export{w as default};
