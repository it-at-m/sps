System.register(["./index-legacy.61f8d398.js","./PersonListItem-legacy.f426111e.js","./PersonApiService-legacy.a6da53e9.js","./VListItemAction-legacy.95905544.js","./VSubheader-legacy.02f008b3.js","./VTooltip-legacy.32b0b8e8.js","./DeleteDialog-legacy.480721f3.js","./VDialog-legacy.ec36ba2d.js","./EntityApiService-legacy.b2f891be.js"],(function(e,t){"use strict";var s,l,a,n,r,i,o,c,u,d,_,f,p,v,g,P,y,m,E,b;return{setters:[e=>{s=e.d,l=e.u,a=e.r,n=e.o,r=e.c,i=e.n,o=e.e,c=e.f,u=e.g,d=e.h,_=e._,f=e.i,p=e.j,v=e.k,g=e.l},e=>{P=e.P},e=>{y=e.P},e=>{m=e._},e=>{E=e._},e=>{b=e._},()=>{},()=>{},()=>{}],execute:function(){const t=i(s({__name:"PersonList",setup(e){const t=l(),s=a([]),i=a(!1),o=a(-1),c=a(Number.MAX_VALUE),u=a(null);function d(){i.value=!0,y.getAllPaged(o.value+1,20,"personListItem").then((e=>{s.value.push(...e.data),o.value=e.page,c.value=e.totalPages,u.value=e.totalElements})).catch((e=>{t.showMessage(e)})).finally((()=>{i.value=!1}))}n((()=>{d()}));const _=r((()=>o.value>=c.value-1));return{__sfc:!0,snackbarStore:t,people:s,busy:i,currentPage:o,totalPages:c,totalElements:u,loadMore:d,itemDeleted:function(e){s.value=s.value.filter((t=>t.id!=e.id))},allPagesLoaded:_,PersonListItem:P}}}),(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(o,{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:s.loadMore,expression:"loadMore"}],attrs:{id:"infinite-scroll","two-line":"","infinite-scroll-disabled":"busy"}},[e._l(s.people,(function(e,l){return[t(s.PersonListItem,{key:`person-${e.id}`,attrs:{person:e},on:{deleted:s.itemDeleted}}),t(m,{key:`divider-${l}`,staticClass:"divider"})]})),s.allPagesLoaded?t(c,[t(u,{staticClass:"text--secondary d-flex justify-center"},[e._v(" "+e._s(s.totalElements)+" Eintr√§ge insgesamt ")])],1):e._e(),!s.busy&&(void 0===s.people||s.people.length<1)?[t(E,[e._v("Keine Personen vorhanden")])]:e._e(),s.busy?[t(d,{attrs:{indeterminate:"",color:"accent"}})]:e._e()],2)}),[],!1,null,"a74d6bcc",null,null).exports;e("default",i(s({__name:"PersonIndex",setup:e=>({__sfc:!0,PersonList:t})}),(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(_,[t(f,{attrs:{flat:""}},[t(p,[e._v("Personen")]),t(s.PersonList)],1),t(b,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(v,e._g({directives:[{name:"security",rawName:"v-security",value:"BEISPIELPROJEKT_BACKEND_WRITE_PERSON",expression:"`BEISPIELPROJEKT_BACKEND_WRITE_PERSON`"}],attrs:{id:"create-person",bottom:"",right:"",fixed:"",fab:"",dark:"",color:"accent",to:{path:"/people/create"}}},s),[t(g,[e._v("mdi-plus")])],1)]}}])},[t("span",[e._v("Neue Person anlegen")])])],1)}),[],!1,null,"ffd41737",null,null).exports)}}}));
