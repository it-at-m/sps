import{d as m,u as l,x as _,aa as c,r as p,L as u,n as f,_ as d,i as v}from"./index.5c2e6855.js";import{P}from"./PersonForm.df49b320.js";import{P as r}from"./PersonApiService.e3829719.js";import"./rules.61a0ee6c.js";import"./VListItemAction.f187d94c.js";import"./VSubheader.3dd6c797.js";import"./TeamApiService.45f87cc8.js";import"./EntityApiService.bdec22c4.js";import"./VRow.6a903a37.js";const g=m({__name:"PersonCreate",setup(o){const s=l(),a=_(),e=c({firstname:"",lastname:"",email:"",teamId:""}),t=p(!1);async function i(){t.value=!0;try{const n=await r.create({id:void 0,firstname:e.firstname,lastname:e.lastname,fullname:e.firstname+" "+e.lastname,email:e.email});e.teamId!=""&&await r.createRelation(n,"team","teams",e.teamId?e.teamId:""),await a.push({name:"person.detail",params:{id:n.id?n.id:""}})}catch(n){s.showMessage({level:u.ERROR,message:n})}t.value=!1}return{__sfc:!0,snackbarStore:s,router:a,person:e,isSavingAnimation:t,save:i,PersonForm:P}}});var x=function(){var s=this,a=s._self._c,e=s._self._setupProxy;return a(d,[a(v,{attrs:{flat:""}},[a("h1",{staticClass:"text-h5",staticStyle:{"margin-bottom":"1em"}},[s._v("Person erstellen")]),a(e.PersonForm,{attrs:{"is-saving-animation":e.isSavingAnimation},on:{save:e.save},model:{value:e.person,callback:function(t){e.person=t},expression:"person"}})],1)],1)},S=[],h=f(g,x,S,!1,null,"32c9f6dd",null,null);const L=h.exports;export{L as default};
