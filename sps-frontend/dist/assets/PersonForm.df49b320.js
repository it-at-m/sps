import{d as b,u as h,r as l,o as x,c as R,L as E,n as k,W as i,k as f}from"./index.5c2e6855.js";import{u as L,_ as A,a as I}from"./rules.61a0ee6c.js";import{T as S}from"./TeamApiService.45f87cc8.js";import{_ as u,a as o}from"./VRow.6a903a37.js";const C=b({__name:"PersonForm",props:{value:null,isSavingAnimation:{type:Boolean}},emits:["input","save"],setup(c,{emit:n}){const e=c,s=L(),a=h(),m=l(null),r=l(!1),_=l([]),p=l(!1);x(()=>{d()});function v(){var t;if((t=m.value)==null||t.validate(),!p.value){a.showMessage({level:E.WARNING,message:"Das Formular ist nicht richtig ausgef\xFCllt.",show:!0});return}n("save")}const g=R({get:()=>e.value,set:t=>n("input",t)});function d(){r.value=!0,S.getAllPaged(0).then(t=>{_.value=t.data}).catch(t=>{a.showMessage(t)}).finally(()=>r.value=!1)}return{__sfc:!0,props:e,emits:n,rules:s,snackbarStore:a,form:m,isLoadingTeams:r,teams:_,formValid:p,save:v,person:g,loadTeams:d}}});var F=function(){var n=this,e=n._self._c,s=n._self._setupProxy;return e("div",[e(A,{ref:"form",on:{submit:s.save},model:{value:s.formValid,callback:function(a){s.formValid=a},expression:"formValid"}},[e(u,[e(o,{staticClass:"col"},[e(i,{attrs:{label:"Vorname*",rules:[s.rules.RULE_REQUIRED],dense:"",outlined:""},model:{value:s.person.firstname,callback:function(a){n.$set(s.person,"firstname",a)},expression:"person.firstname"}})],1),e(o,{staticClass:"col"},[e(i,{attrs:{label:"Nachname*",rules:[s.rules.RULE_REQUIRED],dense:"",outlined:""},model:{value:s.person.lastname,callback:function(a){n.$set(s.person,"lastname",a)},expression:"person.lastname"}})],1)],1),e(u,[e(o,{attrs:{cols:"6"}},[e(i,{attrs:{label:"E-Mail Adresse*",rules:[s.rules.RULE_REQUIRED,s.rules.RULE_MAIL],dense:"",outlined:""},model:{value:s.person.email,callback:function(a){n.$set(s.person,"email",a)},expression:"person.email"}})],1),e(o,{attrs:{cols:"6"}},[e(I,{attrs:{label:"Team",dense:"",outlined:"",disabled:s.isLoadingTeams,items:s.teams,"item-text":"name","item-value":"id",loading:s.isLoadingTeams},model:{value:s.person.teamId,callback:function(a){n.$set(s.person,"teamId",a)},expression:"person.teamId"}})],1)],1),e(u,[e(o,[e("p",[n._v(" Alle mit Sternchen* gekennzeichneten Felder sind Pflichtfelder. ")])]),e(o,{staticClass:"text-right"},[e(f,{staticClass:"ml-auto",attrs:{text:"",exact:"",to:{name:"people"}}},[n._v(" Abbrechen ")]),e(f,{attrs:{color:"primary",loading:n.isSavingAnimation},on:{click:s.save}},[n._v(" Speichern ")])],1)],1)],1)],1)},P=[],T=k(C,F,P,!1,null,"d0024c92",null,null);const $=T.exports;export{$ as P};
